---
import { languages } from '../../i18n'
import { useTranslations, validateLang } from '../../i18n/utils'
const { lang: currentLang } = Astro.params
validateLang(currentLang)
const t = useTranslations(currentLang)
---
<form class="inline-block">
    <label for="language-selector">
        <span class="hidden">{t('layout.language-selector')}</span>
        <select id="language-selector" class="p-2 rounded border-2 border-gray-500/25 bg-white">
            {Object.entries(languages).map(([lang, entry]) => (
                    <option value={lang} selected={lang === currentLang}>{entry.label}</option>
            ))}
        </select>
    </label>
</form>
<script src="./LanguagePickerRuntime.client.ts"/>
